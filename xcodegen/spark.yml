name: Spark
include:
  - spark-shared.yml

packages:
  SparkTheming:
    url: https://github.com/adevinta/spark-ios-theming
    branch: main

targetTemplates:
  SparkSchemeTemplate:
    platform: iOS
    type: framework
    settings:
      base:
        PRODUCT_BUNDLE_IDENTIFIER: "com.adevinta.spark"
        BUILD_LIBRARY_FOR_DISTRIBUTION: YES
        SUPPORTED_PLATFORMS: "iphoneos iphonesimulator"
        SUPPORTS_MACCATALYST: NO
        SUPPORTS_MAC_DESIGNED_FOR_IPHONE_IPAD: NO
        PRODUCT_NAME: Spark
    info:
      path: ../spark/Sources/Info.plist
      properties:
        UIAppFonts:
         - "NunitoSans-Bold.ttf"
         - "NunitoSans-Regular.ttf"
    sources:
      - path: ../spark/Sources
        excludes:
        - "**/*Tests.swift"
    dependencies:
      - target: SparkCore
      - package: SparkTheming
        product: SparkTheme

  SparkDemoTemplate:
    type: application
    platform: iOS
    settings:
      base:
        PRODUCT_BUNDLE_IDENTIFIER: "com.adevinta.spark.demo"
        SUPPORTED_PLATFORMS: "iphoneos iphonesimulator"
        SUPPORTS_MACCATALYST: NO
        SUPPORTS_MAC_DESIGNED_FOR_IPHONE_IPAD: NO
    info:
      path: ../spark/Demo/Info.plist
      properties:
        UILaunchScreen: []

        UIApplicationSceneManifest:
          UIApplicationSupportsMultipleScenes: false
          UISceneConfigurations:
            UIWindowSceneSessionRoleApplication:
              - UISceneConfigurationName: Default Configuration
                UISceneDelegateClassName: $(PRODUCT_MODULE_NAME).SceneDelegate
    sources:
      - path: ../spark/Demo
      - path: ../spark/Sources/Resources
        excludes:
        - "Generated/"
    dependencies:
      - target: Spark

targets:
  Spark:
    templates:
      - SparkSchemeTemplate

  SparkDemo:
    templates:
      - SparkDemoTemplate
